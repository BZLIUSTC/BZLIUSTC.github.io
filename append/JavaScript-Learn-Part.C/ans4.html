<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>网页计算器</title>
    <style type="text/css">
        .calculator {
            width: 300px;
            margin: 50px auto;
            border: 2px solid #333;
            padding: 10px;
            border-radius: 5px;
        }
        .calc-display {
            width: 100%;
            height: 40px;
            font-size: 18px;
            text-align: right;
            padding: 0 5px;
            box-sizing: border-box;
            margin-bottom: 10px;
        }
        .btn-container {
            display: flex;
            flex-wrap: wrap;
        }
        .calc-btn {
            width: 70px;
            height: 70px;
            font-size: 16px;
            margin: 2px;
            cursor: pointer;
            border: none;
            border-radius: 3px;
        }
        .num-btn {
            background-color: #f9f9f9;
        }
        .op-btn {
            background-color: #ff9500;
            color: white;
        }
        .equal-btn {
            background-color: #ff3b30;
            color: white;
        }
        .clear-btn {
            background-color: #e6e6e6;
        }
        .calc-btn:active {
            opacity: 0.8;
        }
    </style>
</head>
<body>
    <div class="calculator">
        <input type="text" class="calc-display" id="calcDisplay" readonly>
        <div class="btn-container" id="btnContainer">
            <button class="calc-btn num-btn">7</button>
            <button class="calc-btn num-btn">8</button>
            <button class="calc-btn num-btn">9</button>
            <button class="calc-btn op-btn">+</button>
            <button class="calc-btn num-btn">4</button>
            <button class="calc-btn num-btn">5</button>
            <button class="calc-btn num-btn">6</button>
            <button class="calc-btn op-btn">-</button>
            <button class="calc-btn num-btn">1</button>
            <button class="calc-btn num-btn">2</button>
            <button class="calc-btn num-btn">3</button>
            <button class="calc-btn op-btn">×</button>
            <button class="calc-btn num-btn">0</button>
            <button class="calc-btn clear-btn">C</button>
            <button class="calc-btn equal-btn">=</button>
            <button class="calc-btn op-btn">÷</button>
        </div>
    </div>

    <script type="text/javascript">
        // 获取元素
        var calcDisplay = document.getElementById('calcDisplay');
        var btnContainer = document.getElementById('btnContainer');

        // 事件委托处理按钮点击
        btnContainer.onclick = function(e) {
            var target = e.target;
            if (!target.className.includes('calc-btn')) return;

            var text = target.innerText;
            var currentValue = calcDisplay.value;

            // 清空按钮
            if (text === 'C') {
                calcDisplay.value = '';
                return;
            }

            // 等号按钮 - 计算
            if (text === '=') {
                try {
                    // 替换×÷为js识别的运算符
                    var expr = currentValue.replace(/×/g, '*').replace(/÷/g, '/');
                    // 检查除零
                    if (expr.includes('/0')) {
                        alert('除数不能为0！');
                        return;
                    }
                    // 计算结果
                    var result = eval(expr);
                    calcDisplay.value = result;
                } catch (e) {
                    alert('表达式错误！');
                    calcDisplay.value = '';
                }
                return;
            }

            // 普通按钮 - 追加内容
            calcDisplay.value += text;
        }
    </script>
</body>
</html>